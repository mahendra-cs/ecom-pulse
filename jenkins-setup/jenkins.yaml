jenkins:
  systemMessage: "Jenkins configured automatically by JCasC to build and deploy to Azure. This file creates the necessary jobs to build and deploy the ecom-pulse application."
  jobs:
    - script: >
        pipelineJob('ecom-pulse') {
          definition {
            cpsScm {
              scm {
                git {
                  remote {
                    url('https://github.com/mahendra-cs/ecom-pulse.git')
                  }
                  branch('*/main')
                }
              }
              scriptPath('Jenkinsfile')
            }
          }
        }
    - script: >
        job('create-microservice-pipelines') {
            steps {
                jobDsl {
                    targets(
                        'order-service/src/main/resources/pipelines.groovy',
                        'inventory-service/src/main/resources/pipelines.groovy',
                        'payment-service/src/main/resources/pipelines.groovy'
                    )
                }
            }
        }